<span
  class="p-text-secondary block mb-5"
  *ngIf="!isSuccess && !isError && !isSubmitting"
  >Compártenos tu información y pronto nos comunicaremos contigo.</span
>
<form
  class="form-contact mt-3"
  method="POST"
  *ngIf="!isSuccess && !isError && !isSubmitting"
  [formGroup]="productContactForm"
  (ngSubmit)="submitForm()"
>
  <div class="mb-3">
    <label class="form-label form-contact-label">Nombre o Empresa</label>
    <input
      type="text"
      formControlName="companyName"
      class="form-control"
      placeholder="Nombre o Empresa"
      [class.is-invalid]="
        productContactForm.controls['companyName'].invalid &&
        productContactForm.controls['companyName'].touched
      "
    />
    <span *ngIf="isValidField('companyName')" class="form-text text-danger">
      {{ getFieldError("companyName") }}
    </span>
  </div>
  <div class="mb-3">
    <label class="form-label form-contact-label">Teléfono</label>
    <input
      type="text"
      formControlName="phone"
      class="form-control"
      placeholder="(XXX) XXX-XXXX"
      mask="(000) 000-0000"
      [class.is-invalid]="
        productContactForm.controls['phone'].invalid &&
        productContactForm.controls['phone'].touched
      "
    />
    <span *ngIf="isValidField('phone')" class="form-text text-danger">
      {{ getFieldError("phone") }}
    </span>
  </div>
  <div class="mb-3">
    <label class="form-label form-contact-label">Email</label>
    <input
      type="text"
      formControlName="email"
      class="form-control"
      placeholder="ejemplo@mail.com"
      [class.is-invalid]="
        productContactForm.controls['email'].invalid &&
        productContactForm.controls['email'].touched
      "
    />
    <span *ngIf="isValidField('email')" class="form-text text-danger">
      {{ getFieldError("email") }}
    </span>
  </div>
  <div class="mb-3">
    <label class="form-label form-contact-label">Mensaje</label>
    <textarea
      type="text"
      formControlName="message"
      class="form-control"
      placeholder="Escribe un mensaje e inicia una conversación con nosotros"
      rows="5"
      [class.is-invalid]="
        productContactForm.controls['message'].invalid &&
        productContactForm.controls['message'].touched
      "
    ></textarea>
    <span *ngIf="isValidField('message')" class="form-text text-danger">
      {{ getFieldError("message") }}
    </span>
  </div>
  <button
    type="submit"
    class="button button-primary button-rounded button-raised w-100"
  >
    <span class="button-label">Enviar</span>
  </button>
</form>

<loading-spinner *ngIf="isSubmitting"></loading-spinner>

<div class="message-success" *ngIf="isSuccess">
  <i class="pi pi-check-circle" style="font-size: 2em"></i>
  <h5>¡Tu solicitud ha sido enviada con éxito!</h5>
  <p>
    Gracias por tu interés en nuestros productos. Un asesor analizará tu
    solicitud y se pondrá en contacto contigo en breve con una cotización
    personalizada.
  </p>

  <button
    type="button"
    class="button button-primary button-rounded button-raised"
    (click)="reloadForm()"
  >
    <span class="button-label">Enviar Otro Mensaje</span>
  </button>
</div>

<div class="message-error" *ngIf="isError">
  <i class="pi pi-times-circle" style="font-size: 2em"></i>
  <h5>Hubo un Error</h5>
  <p>Vuelve a intentarlo más tarde, gracias.</p>
  <button
    type="button"
    class="button button-primary button-rounded button-raised"
    (click)="retryForm()"
  >
    <span class="button-label">Intentar de nuevo</span>
  </button>
</div>
