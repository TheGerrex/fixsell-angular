<button class="chatbox-button" (click)="toggleChatbox()">
  <i class="pi pi-comments"></i>
</button>

<div class="chatbox" [style.display]="showChatbox ? 'flex' : 'none'">
  <div class="chatbox-header">
    <div class="chatbox-header-avatar">
      <div class="avatar-icon">
        <img src="../../../../assets/logo/fixsell-logo-small.svg" alt="" />
      </div>
      <p class="avatar-name">Fixy</p>
    </div>
    <div class="chatbox-header-buttons">
      <button
        class="chatbox-header-close-button"
        (click)="showChatbox = !showChatbox"
      >
        <i class="pi pi-times"></i>
      </button>
    </div>
  </div>
  <div class="chatbox-body">
    <ul id="messages-ul" class="messages-list">
      <li
        *ngFor="let message of chatHistory"
        [ngClass]="{
          'admin-message': message.senderId === 'admin',
          'user-message': message.senderId === 'user'
        }"
        class="message"
      >
        <strong>{{ message.senderId }}:</strong> {{ message.message }}
      </li>
    </ul>
    <chat-lead-form (leadCreated)="onLeadCreated($event)"></chat-lead-form>
  </div>
  <div class="chatbox-footer">
    <!-- id message-form and message-input for functionality -->
    <!-- has to be inside the form.  -->
    <!-- Message Form -->
    <form id="message-form" class="message-form">
      <div class="message-input-container">
        <input
          type="text"
          id="message-input"
          placeholder="Escribe un mensaje..."
          autocomplete="off"
        />
        <button id="message-send" type="submit" class="chatbox-send-button">
          <i class="pi pi-send"></i>
        </button>
      </div>
    </form>
  </div>
</div>
